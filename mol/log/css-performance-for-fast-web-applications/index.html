<!doctype html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta property="fb:app_id" content="212646065416408">
        <meta property="og:type" content="article">
        <meta property="og:site_name" content="MOL">
        <title>高速ウェブアプリのためのCSSパフォーマンス - CSS Performance for Fast Web Applications &middot; MOL</title>
        <link rel="stylesheet" href="http://localhost:1313/mol/css/skeleton.css">
        <link rel="publisher" href="//plus.google.com/+kojiishimoto">
        <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Noto+Sans:400,700">
        <link rel="alternate" href="" type="application/rss+xml" title="MOL">
    </head>
    <body role="document">
    <div class="container">
<header class="site-header">
  <nav>
    <a href="/mol/">MOL</a>
    <a href="/">About</a>
    <a href="/mol/log/">Logs</a>
    <a href="/mol/categories/">Categories</a>
    <a href="https://github.com/t32k/feedback/issues/new">Questions</a>
  </nav>
</header>

    <article class="post">
        <header class="post-header">
            <p class="t-hint">By Koji Ishimoto — <time>Friday, December 4, 2009</time></p>
            <h1 class="post-h1 m-0">高速ウェブアプリのためのCSSパフォーマンス - CSS Performance for Fast Web Applications</h1>
            <h4 class="t-hint"></h4>
        </header>
        <section>
            <p><img class="aligncenter" src="http://lh5.ggpht.com/_1drnogi3vdg/SxOxWE0x8BI/AAAAAAAAAuY/xEaJ1qjOsUA/nicole-sulivan.jpg" alt="Nicole Sullivan" width="512" height="148" /><a href="http://east.webdirections.org/wde/2009/program/">Web Directions East 2009 カンファレンス</a> 11月13日 15:00–16:00</p>

<p><h2>Nicole Sullivan（ニコール・サリバン）</h2>
3000以上にも昇る大規模サイトの最適化に携わって来た Nicole Sullivan は、現在 Yahoo! のパフォーマンスエンジニアと最適化のエバンジェリストとして国内外のセミナーで講演。Webサイトに関する研究だけでなく、プロジェクト管理もこなすマルチタスクなリーダーシップを発揮。フロントエンドエンジニアとしての高いスキルを持つ。</p>

<p><h2>Contacts</h2>
<ul>
    <li><a href="http://www.stubbornella.org/content/">Stubbornella - Blog</a></li>
    <li><a href="http://twitter.com/stubbornella">Nicole Sullivan (stubbornella) on Twitter</a></li>
    <li><a href="http://www.slideshare.net/stubbornella">Nicole Sullivan | SlideShare</a></li>
</ul>
<h2>高速ウェブアプリのためのCSSパフォーマンス - CSS Performance for Fast Web Applications</h2>
<h3>UNDERSTANDING THE CASCADE</h3>
デフォルトのスタイルがブラウザ毎で存在しそれは全て違う
<a href="http://developer.yahoo.com/yui/reset/">YUIのrecet.css</a>を使うと良い</p>

<p>クラスの順序に違いはない
プロパティと値の順序
スペルミスはエラーにならない（無視されるだけ）
<pre><code>color:red, colour:blue
</code></pre></p>

<p>スタイルの順序
<pre><code>.foo {color: red;}
.foo {color: blue;}
</code></pre>
この場合、blueが勝つ
<pre><code>&lt;link rel=&ldquo;stylesheet&rdquo; type=&ldquo;text/css&rdquo; href=&ldquo;styles.css&rdquo; /&gt;
&lt;link rel=&ldquo;stylesheet&rdquo; type=&ldquo;text/css&rdquo; href=&ldquo;moreStyles.css&rdquo; /&gt;
</code></pre>
この場合、moreStyles.cssの方が勝つ</p>

<p>同じ詳細度なら最後に出てきた方が勝つ</p>

<p>詳細度は速く計算される必要がある</p>

<p>IDとクラス
<pre><code>#nav p {color: red }
.nav p {color: blue }
</code></pre></p>

<p>INLINE STYLES
<pre><code>&lt;p style=”color: green;”&gt;My page&lt;/p&gt;
</code></pre></p>

<p>!IMPORTANT
<pre><code>p{color: red !important}
&lt;p style=&ldquo;color: green;”&gt;My page&lt;/p&gt;
</code></pre>
この場合、redになる</p>

<p>継承
<pre><code>body{font-size: 18px;}
&lt;body&gt;
&lt;p&gt;This text is 18px.&lt;/p&gt;
&lt;/body&gt;
</code></pre>
P要素も18pxになる</p>

<p>うまくいかなかったらスパゲッティコードになってしまう</p>

<p><strong>CSS IS AWESOME</strong></p>

<p>コードは脆い　人が変われば壊されてしまう
熟練度が必要
コードの再利用はほとんどない　人の書いたコードは信用しない
ファイルサイズが増大していく　修正を繰り返していけばどんどん増える
<h3>HOW TO ARCHITECT GOOD CSS?</h3>
Object Oriented CSS
プロパティではなくセレクタに注目する</p>

<p><a title="Nicole Sullivan by t32k, on Flickr" href="http://www.flickr.com/photos/t32k/4103194252/"><img src="http://farm3.static.flickr.com/2714/4103194252_b84da463f6.jpg" alt="Nicole Sullivan" width="500" height="375" /></a>
用語の使い方に注意する（ex.クラスって何よ？）
<a href="http://wiki.github.com/stubbornella/oocss/">Home - oocss - GitHub</a></p>

<p>見出しについて
デベロッパーじゃデザインの意味が分からない</p>

<p>再利用はパフォーマンスに良い</p>

<p>冗長性は避ける
似たようなものはまとめろ</p>

<p>ロケーションの依存性を避ける
<pre><code>#weatherModule h3{color:red;}
#tabs h3{color:blue}
</code></pre></p>

<p>本当に必要なのか考える
<a href="http://www.stubbornella.org/content/2009/03/27/reflows-repaints-css-performance-making-your-javascript-slow/">
</a>
<h3><a href="http://www.stubbornella.org/content/2009/03/27/reflows-repaints-css-performance-making-your-javascript-slow/">REFLOWS and rendering time</a></h3>
CSSパフォーマンスで重要なのはCSSファイルのサイズとHTTPリクエスト数
リフローとレンダリング時間は大した問題ではない
<ul>
    <li>Toggle classes as low in the dom tree as possible</li>
    <li>Avoid setting multiple inline styles</li>
    <li>Apply animations to elements that are position fixed or absolute</li>
    <li>Trade smoothness for speed</li>
    <li>Avoid tables for date</li>
    <li>Avoid JavaScript expressions in the CSS (IE only)</li>
</ul>
<h3>Apply programming best practices to style sheets</h3>
デフォルト値を設定する
<pre><code>×　#tabs h3{color:blue}
</code></pre></p>

<p>クラスに構造を定義する
<pre><code>×　div.error{&hellip;}
</code></pre></p>

<p>要素にスタイル付けしない
<pre><code>×　p{..}
</code></pre></p>

<p>同じ詳細度にする</p>

<p>セレクタによるハックは控えめに
<pre><code>×　.ie .mod .hd{&hellip;}　→　.mod .hd{_zoom:1;}
</code></pre></p>

<p>ロケーションによる詳細度の指定は避ける
<pre><code>×　.sidebar ul{&hellip;}
×　.header ul {&hellip;}
</code></pre></p>

<p>過度に特定なクラス名は避ける
<pre><code>×　.niXcolesDucatiMonster620{&hellip;}
</code></pre></p>

<p>シングルトンは避ける（IDは避ける）
<pre><code>×　#myUniqueIdentifier{&hellip;}
</code></pre></p>

<p>ミックスインを使う
<pre><code>○ class=&ldquo;media&rdquo; class=&ldquo;media extended&rdquo;
</code></pre></p>

<p>カプセル化
オブジェクトのサブノードにアクセスさせない
<h2>セッション感想</h2>
前半はCSSの基礎的なことでだったので、エンジニアさんにCSSを説明するときに便利だと思った。全体としてはOO（オブジェクト指向）CSS入門のようなセッションで、複数人でのコーディング、修正の多い大規模サイト運用において、どのようにCSSのパフォーマンスを発揮していくのかといった内容だった。</p>

<p>まさしく大規模サイトにOOCSSは最適だと思う。ただ、OOCSSを導入するにあたっては既存のCSSでマークアップしたページとの兼ね合いを考えると難しいものがある。CSS自体、スパゲッティコード（ごちゃごちゃになったコード）化しやすい傾向もあって、使用していない/しているコードの把握、CSSのコードを設計するために現在どのようなデザインエレメントが存在するのか調査・カタログ化、デザイン部内のコーディングルールの周知などを既存のコードを運用しつつ考えれば、かなりのリソースが割かれるのは確実だ。</p>

<p>逆に、Webデザイナー1人で管理できるレベル程度の小規模サイトではOOCSSのメリットはあまり享受できないかもしれない。いや、でも修正に修正重ねていったら使わないコードが増えていくのかもしれない。</p>

<p>結局、OOCSSの理念としてCSSコード量をむやみに増やさないというところに重きが置いてあるのかなと理解した。</p>

        </section>
    </article>

    <div class="post-social">
    <a href="https://twitter.com/share" class="twitter-share-button">Tweet</a>
    <div class="fb-like" data-width="150" data-layout="button_count" data-action="like" data-show-faces="true" data-send="false"></div>
    <div class="g-plusone" data-size="medium"></div>
</div>

<div class="u-cf" style="padding:2rem 0; border-radius: 1rem">
    <p class="u-pull-left"><img src="/mol/images/t32k.png" width="64" height="64" alt></p>
    <p style="margin-left: 80px">Written by <strong>Koji Ishimoto</strong>, Web Developer in Vancouver.<br>
        <a href="http://cloud.feedly.com/#subscription%2Ffeed%2Fhttp%3A%2F%2Ft32k.me%2Fmol%2Ffeed.xml" target="blank">
            <img src="http://s3.feedly.com/img/follows/feedly-follow-circle-flat-green_2x.png" width="20" height="20" alt style="vertical-align: middle"> Subscribe on feedly.</a>
    </p>
</div>

<hr>

    <div class="row li-pagination">
        <div class="six columns">
            <div class="li-pagination-previous">
                
                    Later article<br>
                    <a href="http://localhost:1313/mol/log/dtt-takumi0605/"> インタラクティブな作品づくり - @takumi0605</a>
                
            </div>
        </div>
        <div class="six columns">
            <div class="li-pagination-next">
                
                    Older article<br>
                    <a href="http://localhost:1313/mol/log/hackers-and-painters/"> ハッカーと画家 コンピュータ時代の創造者たち</a>
                
            </div>
        </div>
    </div>

<hr>

<section>
  <ins class="adsbygoogle"
       style="display:block"
       data-ad-client="ca-pub-1326877318485833"
       data-ad-slot="7307465775"
       data-ad-format="auto"></ins>
</section>

<hr>

<footer>
  <small roll="contentinfo">&copy; 2007 t32k.me</small>
</footer>
    <script>
        
        (function(d, s) {
            var js,
                fjs = d.getElementsByTagName(s)[0],
                load = function(url, id) {
                    if (d.getElementById(id)) {return;}
                    js = d.createElement(s); js.src = url; js.id = id;
                    fjs.parentNode.insertBefore(js, fjs);
                };
            load('//connect.facebook.net/en_US/sdk.js#xfbml=1&appId=212646065416408&version=v2.0', 'fbjssdk');
            load('//platform.twitter.com/widgets.js', 'tweetjs');
            load('https://apis.google.com/js/plusone.js', 'gplusjs');
            load('//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js', 'adsense');
        }(document, 'script'));
        
        (adsbygoogle = window.adsbygoogle || []).push({});
        
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
        ga('create', 'UA-2317436-26', 't32k.me');
        ga('send', 'pageview');
    </script>

    </div>
    <script>document.write('<script src="http://'
        + (location.host || 'localhost').split(':')[0]
		+ ':1313/livereload.js?mindelay=10"></'
        + 'script>')</script></body>
</html>
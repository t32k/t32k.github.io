<!doctype html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta property="fb:app_id" content="212646065416408">
        <meta property="og:type" content="article">
        <meta property="og:site_name" content="MOL">
        <title>バッジ駆動開発（2014:Node.js） &middot; MOL</title>
        <link rel="stylesheet" href="http://localhost:1313/mol/css/skeleton.css">
        <link rel="publisher" href="//plus.google.com/+kojiishimoto">
        <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Noto+Sans:400,700">
        <link rel="alternate" href="" type="application/rss+xml" title="MOL">
    </head>
    <body role="document">
    <div class="container">
<header class="site-header">
  <nav>
    <a href="/mol/">Blog</a>
    <a href="/">About</a>
    <a href="https://github.com/t32k/feedback/issues/new">Questions</a>
  </nav>
</header>

    <article class="post">
        <header class="post-header">
            <p class="t-hint">By Koji Ishimoto — <time>Monday, March 24, 2014</time></p>
            <h1 class="post-h1 m-0">バッジ駆動開発（2014:Node.js）</h1>
            <h4 class="t-hint">Readmeをバッジで飾ろう！</h4>
        </header>
        <section>
            

<p>こんちわ！@t32kだよ。みんなバッジ好き？(　ﾟ∀ﾟ)o彡ﾟバッジ！バッジ！バッジ！</p>

<p>小学生の頃、自由勉強ノートってのがあって、勉強したページ分、先生からシールをもらってはそのノートに貼り付けていたのは良い思い出です。あのノスタルジーを再び！</p>

<p>ということで、大人の自由勉強ノートといえばGitHubレポジトリじゃないですか。OSSがんばります！私、気になります！そしたらシール欲しいじゃないですか？</p>

<p>あるよ、シールあるよ、シールってかバッジだけど。</p>

<p><a href="https://github.com/t32k/stylestats"><img src="/mol/images/2014/03-24-fig01.png" alt="" />
</a></p>

<p>上記は最近作ってる<a href="https://github.com/t32k/stylestats">StyleStats</a>のReadmeだけど、なんか緑のバッジいっぱいですよね。それを説明していく！</p>

<h2 id="travis-ci-status-images:92f5a66373d0bcecf6b35c042fc54b08">Travis-CI Status Images</h2>

<p><img src="/mol/images/2014/03-24-fig02.png" alt="" />
</p>

<ul>
<li><a href="http://docs.travis-ci.com/user/status-images/">Travis CI: Status Images</a></li>
</ul>

<p>まずは、この中のバッジの中では一番メジャーじゃないだろうか、Travisの Status Images。昔、@kyo_agoさんが『テストもしてないプラグインなんて怖くて使えませんよね！』と言ってたのを聞いて、その日のうちにとりあえずテスト書いて、テストしてるよって意味で載っけといた思い出深いバッジです。</p>

<p>Travis-CIでビルドがコケてるかどうか、要はテストが失敗してるかどうか、このバッジが赤いままだと、恥ずかしくて御天道様の下を歩くこともできません。</p>

<h2 id="version-badge:92f5a66373d0bcecf6b35c042fc54b08">Version Badge</h2>

<p><img src="/mol/images/2014/03-24-fig03.png" alt="" />
</p>

<ul>
<li><a href="http://badge.fury.io/for/js/stylestats">Version Badge for your RubyGems, PyPI packages, and NPM modules</a></li>
</ul>

<p>次によく見かける、バージョンバッジ。gem, PyPI, NPMに登録してあるモジュールなら、サイトから検索してスニペット取得するだけ。</p>

<p>よく使っているモジュールの最新バージョンはいくつだろう？と思ってpackage.jsonとか見たりするけど、このバッジがReadmeに貼ってあると分かりやすくてよい。あと、NPMに登録してある＝野良モジュールじゃない、ってことでそれなりに、信用度があがる（なんでもNPMに登録できるからあんまり意味ない）、かもしれない。</p>

<h2 id="david:92f5a66373d0bcecf6b35c042fc54b08">David</h2>

<p><img src="/mol/images/2014/03-24-fig04.jpg" alt="" />
</p>

<ul>
<li><a href="https://david-dm.org/">David, a dependency management tool for Node.js projects</a></li>
</ul>

<p>これもバージョン関係だけど、依存しているモジュールのバージョンが最新かどうかチェックしてくれるサービス。</p>

<ul>
<li><a href="https://david-dm.org/t32k/stylestats#info=dependencies&amp;view=table">Dependency status for t32k - stylestats 2.3.0</a></li>
</ul>

<p>こんな感じで<code>dependencies</code>と<code>devDependencies</code>が最新かどうかチェックしてくれる。Nodeのモジュールは開発が盛んだから、いつのまにかマイナー・メジャーバージョンが上がってたなんてことを気づかせてくれます。</p>

<p>まぁ安定して動いてくれてるならそのバージョンが古くても問題ないけど、やっぱり最新がいいよね！僕は新しいもの好きです！！私、気になります！！！</p>

<ul>
<li>参考: <a href="http://teppeis.hatenablog.com/entry/2013/12/node-github">Node.jsの開発を超速化するGitHub連携 三種の神器 - teppeis blog</a></li>
</ul>

<h2 id="code-climate:92f5a66373d0bcecf6b35c042fc54b08">Code Climate</h2>

<p><img src="/mol/images/2014/03-24-fig05.jpg" alt="" />
</p>

<ul>
<li><a href="https://codeclimate.com/">Code Climate. Hosted static analysis for Ruby and JavaScript source code.</a></li>
</ul>

<p>元は、Ruby専用のコード品質チェックサービスだったけど、最近JavaScriptにも対応したみたいだから導入してみた。</p>

<p><a href="http://ja.wikipedia.org/wiki/GPA">GPA</a>(Grade Point Average)って指標で、4ポイントが一番最高。オープンリポジトリなら無料で利用できるからみんなも見てみよう。</p>

<ul>
<li><a href="https://codeclimate.com/github/t32k/stylestats">Feed - Code Climate</a></li>
</ul>

<p>最初にやってみたら0.何ポイントとかで、マジ焦って改善したのは良い思い出です。コードの冗長性とか複雑度とかいろいろ指摘してくれる、おもしろいサービスなので個人的にこれはおすすめ。あと、最近使っている<a href="https://slack.com/">Slack</a>(チャットサービス)と連携できてGPAが上がった下がったの通知もしてくれるのもナイス♪</p>

<ul>
<li>参考: <a href="http://blog.ruedap.com/2013/09/02/travis-ci-coveralls-code-climate-github-badge">Travis CIとCoverallsとCode Climateを使ってGitHubリポジトリにバッジを付ける - アインシュタインの電話番号</a></li>
</ul>

<h2 id="coveralls:92f5a66373d0bcecf6b35c042fc54b08">Coveralls</h2>

<p><img src="/mol/images/2014/03-24-fig06.png" alt="" />
</p>

<ul>
<li><a href="http://coveralls.io/">Your Repositories | Coveralls - Test Coverage History &amp; Statistics</a></li>
</ul>

<p>テストのカバレッジ（網羅率）を表示してくれるサービス。Travis-CI Status Imagesでpassedが出てても、極端な話、どんなテストでいいので、公開してるコードと関係ない単純なテストでも通ってれば、緑色のバッジを表示させることが出来る。</p>

<p>それじゃあんましなので、ちゃんとすべてのコードを網羅してるかどうかカバレッジを確認する必要がある。カバレッジ自体はローカルでもカバレッジを測定するツールを使えば確認できるけど(僕はMocha + Istanbulで取ってる)、それを公開するためのプラットフォームであるCoverallsがあることで、テストの信用性をほかのユーザーも簡単に確認できるのは良い。</p>

<p>最初にカバレッジを確認すると90%くらいで、もうちょっと上げたないなと思い、その過程でやっぱりテスト通ってないところでバグを発見したのでカバレッジ取っててよかったε-(´∀｀*)ﾎｯ</p>

<ul>
<li>参考: <a href="http://boycook.wordpress.com/2013/09/17/javascript-coverage-with-istanbul-and-coveralls-via-travis-ci/">JavaScript coverage with Istanbul and Coveralls via Travis CI | Craig Cook&rsquo;s Blog</a></li>
</ul>

<h2 id="まとめ:92f5a66373d0bcecf6b35c042fc54b08">まとめ</h2>

<p>そんなわけでグリーンだよ！(・∀・)ｲｲ!!んだよってことで、やっぱり赤色のバッジをReadmeに貼ったままはカッコ悪い。そこで緑にしよう！もっといいポイントにしよう！ってモチベーションが湧いてくるのはよりよい開発を続けるためにはよいことだと思う。</p>

<p>また、Readmeとかで懇切丁寧な英語で解説できない分、緑色のBadgeを貼ってあるだけでも信用性をアピールできるのかなと思って最近、頑張ってたって話。</p>

        </section>
    </article>

    <div class="post-social">
    <a href="https://twitter.com/share" class="twitter-share-button">Tweet</a>
    <div class="fb-like" data-width="150" data-layout="button_count" data-action="like" data-show-faces="true" data-send="false"></div>
    <div class="g-plusone" data-size="medium"></div>
</div>

<div class="u-cf" style="padding:2rem 0; border-radius: 1rem">
    <p class="u-pull-left"><img src="/mol/images/t32k.png" width="64" height="64" alt></p>
    <p style="margin-left: 80px">Written by <strong>Koji Ishimoto</strong>, Web Developer in Vancouver.<br>
        <a href="http://cloud.feedly.com/#subscription%2Ffeed%2Fhttp%3A%2F%2Ft32k.me%2Fmol%2Ffeed.xml" target="blank">
            <img src="http://s3.feedly.com/img/follows/feedly-follow-circle-flat-green_2x.png" width="20" height="20" alt style="vertical-align: middle"> Subscribe on feedly.</a>
    </p>
</div>

<hr>

    <div class="row li-pagination">
        <div class="six columns">
            <div class="li-pagination-previous">
                
                    Later article<br>
                    <a href="http://localhost:1313/mol/log/choice/"> 若人へ</a>
                
            </div>
        </div>
        <div class="six columns">
            <div class="li-pagination-next">
                
                    Older article<br>
                    <a href="http://localhost:1313/mol/log/sass-and-compass-in-action/"> Sass/Compass徹底入門を監修しました</a>
                
            </div>
        </div>
    </div>

<hr>

<section>
  <ins class="adsbygoogle"
       style="display:block"
       data-ad-client="ca-pub-1326877318485833"
       data-ad-slot="7307465775"
       data-ad-format="auto"></ins>
</section>

<hr>

<footer>
  <small roll="contentinfo">&copy; 2007 t32k.me</small>
</footer>
    <script>
        
        (function(d, s) {
            var js,
                fjs = d.getElementsByTagName(s)[0],
                load = function(url, id) {
                    if (d.getElementById(id)) {return;}
                    js = d.createElement(s); js.src = url; js.id = id;
                    fjs.parentNode.insertBefore(js, fjs);
                };
            load('//connect.facebook.net/en_US/sdk.js#xfbml=1&appId=212646065416408&version=v2.0', 'fbjssdk');
            load('//platform.twitter.com/widgets.js', 'tweetjs');
            load('https://apis.google.com/js/plusone.js', 'gplusjs');
            load('//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js', 'adsense');
        }(document, 'script'));
        
        (adsbygoogle = window.adsbygoogle || []).push({});
        
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
        ga('create', 'UA-2317436-26', 't32k.me');
        ga('send', 'pageview');
    </script>

    </div>
    <script>document.write('<script src="http://'
        + (location.host || 'localhost').split(':')[0]
		+ ':1313/livereload.js?mindelay=10"></'
        + 'script>')</script></body>
</html>